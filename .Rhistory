load("~/Leah_frogs/data/site_dic.RData")
load("~/Leah_frogs/data/site_dic.RData")
load("~/Leah_frogs/data/site_dic.RData")
load("~/Leah_frogs/data/site_dic.RData")
require(R2jags)
require(readr)
require(tidyr)
require(dplyr)
setwd("C:/Users/josh.nowak/Documents/GitHub/Leah_frogs")
source("helpers/Nmix_utility_funs.R")
raw_dat <- read_csv("C:/Users/josh.nowak/Documents/Leah_frogs/data.csv")
setwd("~/Blackrock/Data/TadpolePaper")
source("helpers/Nmix_utility_funs.R")
source("helpers/Nmix_utility_funs.R")
require(R2jags)
require(readr)
require(tidyr)
require(dplyr)
source("helpers/Nmix_utility_funs.R")
setwd("~/Blackrock/Data/TadpolePaper")
source("documents/Leah_frogs/helpers/Nmix_utility_funs.R")
source("~/Leah_frogs/helpers/Nmix_utility_funs.R")
raw_dat <- read_csv("2015AND2016TrappingData.csv")
cov_dat <- read.csv("~/Blackrock/Data/Invert Paper/BR_site_covariates.csv") %>%
mutate(
site = site_dic$site_num[match(SiteName, site_dic$site_nm)]
)
load("data/site_dic.RData")
load("data/site_dic.RData")
require(readr)
require(dplyr)
setwd("~Leah_frogs")
setwd("~/Leah_frogs")
source("helpers/Nmix_utility_funs.R")
dat <- read_csv("~/Leah_frogs/data.csv")
dat <- read_csv("~/Leah_frogs/data.csv")read.csv("~/Blackrock/Data/Tadpole Paper/2015AND2016TrappingData.csv")
dat <- read_csv("~/Leah_frogs/data.csv")read.csv("~/Blackrock/Data/TadpolePaper/2015AND2016TrappingData.csv")
dat <- read.csv("~/Blackrock/Data/TadpolePaper/2015AND2016TrappingData.csv")
require(readr)
require(dplyr)
#  Set working directory
setwd("~/Leah_frogs")
#  Source helper functions
source("helpers/Nmix_utility_funs.R")
#  Load data
dat <- read.csv("~/Blackrock/Data/TadpolePaper/2015AND2016TrappingData.csv")
################################################################################
#  Create lookup dictionary for sites
uni_site <- unique(dat$Site)
site_dic <- tibble(
site_nm = uni_site,
site_num = 1:length(uni_site)
)
save(site_dic, file = "data/site_dic.RData")
load("data/site_dic.RData")
#  Set working directory
setwd("~/Blackrock/Data/TadpolePaper")
#  Source helper functions
source("~/Leah_frogs/helpers/Nmix_utility_funs.R")
#  Load observation data
raw_dat <- read_csv("2015AND2016TrappingData.csv")
#  Load covariate data
cov_dat <- read.csv("~/Blackrock/Data/Invert Paper/BR_site_covariates.csv") %>%
mutate(
site = site_dic$site_num[match(SiteName, site_dic$site_nm)]
)
#  Load dics
load("data/site_dic.RData")
setwd("~/Leah_frogs")
source("~/Leah_frogs/helpers/Nmix_utility_funs.R")
raw_dat <- read_csv("~/Blackrock/Data/TadpolePaper/2015AND2016TrappingData.csv")
cov_dat <- read.csv("~/Blackrock/Data/Invert Paper/BR_site_covariates.csv") %>%
mutate(
site = site_dic$site_num[match(SiteName, site_dic$site_nm)]
)
load("data/site_dic.RData")
require(readr)
require(dplyr)
#  Set working directory
setwd("~/Leah_frogs")
#  Source helper functions
source("helpers/Nmix_utility_funs.R")
#  Load data
dat <- read.csv("~/Blackrock/Data/TadpolePaper/2015AND2016TrappingData.csv")
################################################################################
#  Create lookup dictionary for sites
uni_site <- unique(dat$Site)
site_dic <- tibble(
site_nm = uni_site,
site_num = 1:length(uni_site)
)
save(site_dic, file = "data/site_dic.RData")
setwd("~/Leah_frogs")
#  Source helper functions
source("~/Leah_frogs/helpers/Nmix_utility_funs.R")
#  Load observation data
raw_dat <- read_csv("~/Blackrock/Data/TadpolePaper/2015AND2016TrappingData.csv")
#  Load covariate data
cov_dat <- read.csv("~/Blackrock/Data/Invert Paper/BR_site_covariates.csv") %>%
mutate(
site = site_dic$site_num[match(SiteName, site_dic$site_nm)]
)
#  Load dics
load("data/site_dic.RData")
y_obs <- morph_data(raw_dat, site_dic) %>%
left_join(., cov_dat, by = "")
cov_dat
cov_dat <- read.csv("~/Blackrock/Data/Invert Paper/BR_site_covariates.csv") %>%
mutate(
site = site_dic$site_num[match(SiteName, site_dic$site_nm)]
)
cov_dat
load("data/site_dic.RData")
y_obs <- morph_data(raw_dat, site_dic) %>%
left_join(., cov_dat, by = "")
cov_dat <- read.csv("~/Blackrock/Data/Invert Paper/BR_site_covariates.csv") %>%
mutate(
site = site_dic$site_num[match(SiteName, site_dic$site_nm)]
)%>%
filter(site!=NA)
cov_dat
cov_dat <- read.csv("~/Blackrock/Data/Invert Paper/BR_site_covariates.csv") %>%
mutate(
site = site_dic$site_num[match(SiteName, site_dic$site_nm)]
)
cov_dat
cov_dat <- read.csv("~/Blackrock/Data/Invert Paper/BR_site_covariates.csv") %>%
mutate(
site = site_dic$site_num[match(SiteName, site_dic$site_nm)]
)%>%
filter(site!is.na)
cov_dat <- read.csv("~/Blackrock/Data/Invert Paper/BR_site_covariates.csv") %>%
mutate(
site = site_dic$site_num[match(SiteName, site_dic$site_nm)]
)%>%
filter(site!="NA")
cov_dat
load("data/site_dic.RData")
y_obs <- morph_data(raw_dat, site_dic) %>%
left_join(., cov_dat, by = "")
y_obs <- morph_data(raw_dat, site_dic)
y_obs
y_obs <- morph_data(raw_dat, site_dic) %>%
left_join(., cov_dat, by = "")
fit1 <- y_obs %>%
filter(site != 22) %>%
group_by(sp, year) %>%
do(fit =
call_jags(
x = .,
covs = "n_trap",
model.file = "models/Nmix_cN_trapD.txt",
n.chains = 3,
n.iter = 500,
n.burnin = 100,
n.thin = 1
)
)
cov_dat <- read.csv("~/Blackrock/Data/Invert Paper/BR_site_covariates.csv") %>%
mutate(
site = site_dic$site_num[match(SiteName, site_dic$site_nm)]
)%>%
filter(site!="NA")%>%
mutate(type=as.numeric(WetlandType))
cov_dat
y_obs <- morph_data(raw_dat, site_dic) %>%
left_join( cov_dat, by = "")
fit2 <- y_obs %>%
group_by(sp, year) %>%
do(fit =
try(call_jags(
x = .,
covs = NULL,
model.file = "models/Nmix_cN_cD.txt",
n.chains = 3,
n.iter = 500,
n.burnin = 100,
n.thin = 1
))
)
fit1 <- y_obs %>%
filter(site != 22) %>%
group_by(sp, year) %>%
do(fit =
call_jags(
x = .,
covs = "n_trap",
model.file = "models/Nmix_cN_trapD.txt",
n.chains = 3,
n.iter = 500,
n.burnin = 100,
n.thin = 1
)
)
load("~/Leah_frogs/data/site_dic.RData")
site_dic
view(site_dic)
site_dic
y_obs
